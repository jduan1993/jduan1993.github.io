---
title: 缓存一致性
---

## 延迟双删 vs Kafka
| 对比维度            | 延迟双删            | Kafka 缓存失效通知      |
| --------------- | --------------- | ----------------- |
| **实现难度**        | 简单，代码内实现        | 需要接入 Kafka + 消费机制 |
| **缓存一致性控制力**    | 不稳定（延迟期间仍可能被覆盖） | 强一致（通知所有消费者实时失效）  |
| **适应多服务 / 多副本** | 差，需每个服务都实现      | 强，多服务可统一订阅通知      |
| **异步解耦能力**      | 弱，紧耦合在业务逻辑中     | 强，数据库变更 → 异步通知    |
| **故障可追溯性**      | 差，删失败难定位        | 强，Kafka 留存消息可回溯   |
| **网络异常容错性**     | 差，失败后不易重试       | 好，可消费失败后重试        |
