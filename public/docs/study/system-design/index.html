<!DOCTYPE html>
<html lang="zh" dir="ltr">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="
  è¦æ±‚
  #


  1. åˆ†å¸ƒå¼ã€å¯æ‰©å±•ã€‚
  #


åˆ†å¸ƒå¼ï¼šå¾®æœåŠ¡ã€å¼‚æ­¥é€šä¿¡ã€åˆ†å¸ƒå¼ç¼“å­˜ã€K8s
å¯æ‰©å±•ï¼šHPAã€åˆ†åº“åˆ†è¡¨ã€K8s DNS Serviceã€å¤šAZã€å¤šå›½å®¶


  2. ç”¨æˆ·å¯æœç´¢ã€å¯é¢„çº¦ã€å¯é‡æ–°å®‰æ’ã€å¯å–æ¶ˆï¼ŒåŸºäºåŒ»ç”Ÿçš„ä½ç½®ã€ä¸“ç§‘ã€å¯ç”¨æ—¶é—´ã€‚
  #


  æœç´¢
  #


Cache Asideï¼ŒInvalidate when Booking and Cancellation (TTL ~ minutes)
Caffeine å¼‚æ­¥å»¶è¿ŸåŒåˆ 


  æƒè¡¡
  #


  
      
          ä¼˜ç‚¹
          è¯´æ˜
      
  
  
      
          âš¡ é«˜åå
          Redis å‘½ä¸­ç‡é«˜ï¼Œæ”¯æŒ QPS &gt; 1000&#43;
      
      
          â±ï¸ ä½å»¶è¿Ÿ
          å•åŒ»ç”ŸæŸ¥è¯¢ latency â‰ˆ å‡  ms
      
      
          âœ… å†™åæ— è¯»
          Slot æ•°æ®é¢„ç”Ÿæˆã€å†™å…¥ååªè¯»ï¼Œé€‚åˆç¼“å­˜
      
      
          ğŸ” å¼‚æ­¥æ›´æ–°
          Cache ç”± Kafka é©±åŠ¨å¼‚æ­¥æ›´æ–°ï¼Œæ— éœ€å¼ºä¸€è‡´æ€§
      
  


  
      
          ç¼ºç‚¹
          è¯´æ˜
      
  
  
      
          ğŸ•’ æ•°æ®è½»å¾®ä¸ä¸€è‡´
          TTL å¤±æ•ˆæœŸé—´å¯èƒ½å±•ç¤ºå·²è¢«é¢„çº¦çš„ slotï¼ˆåœ¨ Booking é˜¶æ®µå…œåº•ï¼‰
      
      
          ğŸ§  Cache Invalidate å¤æ‚
          å¤šæœåŠ¡å†™å…¥ slot çŠ¶æ€éœ€ä¿è¯æ­£ç¡®æ¸…é™¤ Redis ç¼“å­˜
      
      
          ğŸ“¦ å¤§é‡ slot
          Redis å†…å­˜å ç”¨éœ€æ§åˆ¶ï¼ˆå¯åšåˆ†ç‰‡ or ä½¿ç”¨ Redis Clusterï¼‰
      
  


  é¢„çº¦
  #


Redlock åŠ é” (TTL ~ seconds)
åŠ å…¥ Request ID ä½œä¸ºå”¯ä¸€æ€§çº¦æŸ
æ•°æ®åº“æ‚²è§‚é”ï¼ˆPessimistic Lockï¼‰åŒæ£€
æ’å…¥é¢„çº¦ï¼ˆAppointmentï¼‰
å‘å¸ƒ AppointmentCreated åˆ° Kafka
é‡Šæ”¾é”ï¼ˆUnlockï¼‰
å“åº”å®¢æˆ·ç«¯
æ¶ˆè´¹è€…ï¼ˆSearch Serviceï¼‰Cache Invalidation
æ¶ˆè´¹è€…ï¼ˆNotification Serviceï¼‰å‘é€æ¶ˆæ¯


  æƒè¡¡
  #


  
      
          ä¼˜ç‚¹
          è¯´æ˜
      
  
  
      
          âœ… é«˜ä¸€è‡´æ€§ä¿éšœ
          é”&#43;äº‹åŠ¡åŒé‡ä¿è¯
      
      
          âœ… å¹‚ç­‰è®¾è®¡
          é˜²æ­¢é‡å¤é¢„çº¦
      
      
          âœ… å¯è§‚æµ‹æ€§å¼º
          Kafka æ¨é€äº‹ä»¶ç”¨äºè¿½è¸ªé“¾è·¯
      
      
          âœ… å¼‚æ­¥è§£è€¦
          éæ ¸å¿ƒé€»è¾‘ï¼ˆé€šçŸ¥ã€ç¼“å­˜ï¼‰ä¸å½±å“ä¸»æµç¨‹æ€§èƒ½
      
  


  
      
          ç¼ºç‚¹
          è¯´æ˜
      
  
  
      
          â— Redis ä¸å¯ç”¨
          Redlock ä¾èµ– Redisï¼Œå¯å¼•å…¥é™çº§æœºåˆ¶ï¼ˆfallback DB lockï¼‰
      
      
          â— é«˜å¹¶å‘ä¸‹å»¶è¿Ÿ
          æ‹¥å¡åœ¨çƒ­ç‚¹ slotï¼ˆæ¯”å¦‚çƒ­é—¨åŒ»ç”Ÿï¼‰å¯ç”¨é˜Ÿåˆ—æ’é˜Ÿç¼“è§£
      
      
          â— äº‹åŠ¡å¤æ‚æ€§
          éœ€ç»†è‡´å¤„ç†é”é‡Šæ”¾å’Œå›æ»šï¼Œé¿å…æ­»é”
      
  


  é‡æ–°å®‰æ’
  #


RedlockåŠ é” (TTL ~ seconds)
æ•°æ®åº“æ‚²è§‚é”ï¼ˆPessimistic Lockï¼‰åŒæ£€
æ ¡éªŒä¿®æ”¹æ—§é¢„çº¦ï¼Œæ’å…¥æ–°é¢„çº¦
å‘å¸ƒ AppointmentRescheduled åˆ° Kafka
é‡Šæ”¾é”ï¼ˆUnlockï¼‰
å“åº”å®¢æˆ·ç«¯
æ¶ˆè´¹è€…ï¼ˆSearch Serviceï¼‰Cache Invalidation
æ¶ˆè´¹è€…ï¼ˆNotification Serviceï¼‰å‘é€æ¶ˆæ¯


  æƒè¡¡
  #


  
      
          ä¼˜ç‚¹
          è¯´æ˜
      
  
  
      
          âœ… ä¸€è‡´æ€§ä¿éšœ
          äº‹åŠ¡æ›´æ–° &#43; å¹‚ç­‰æ§åˆ¶ï¼Œé¿å…é”™çº¦/é‡å¤çº¦
      
      
          âœ… åŒ slot å®‰å…¨ç®¡ç†
          æ˜¾å¼é‡Šæ”¾æ—§ slotã€é”å®šæ–° slot
      
      
          âœ… è§£è€¦é€»è¾‘
          Kafka ç”¨äºé€šçŸ¥ä¸ç¼“å­˜åˆ·æ–°ï¼Œä¸»æµç¨‹ä¸é˜»å¡
      
  


  
      
          ç¼ºç‚¹
          è¯´æ˜
      
  
  
      
          â— æ–°æ—§ slot çŠ¶æ€åˆ‡æ¢é€»è¾‘å¤æ‚
          éœ€è¦æ˜ç¡®çŠ¶æ€æµè½¬æ¨¡å‹
      
      
          â— Redis ä¸å¯ç”¨å½±å“é”
          é™çº§ fallbackï¼šæ•°æ®åº“æ‚²è§‚é”
      
      
          â— ç”¨æˆ·è¯¯æ“ä½œå¯èƒ½å¯¼è‡´é‡å¤ reschedule
          éœ€é™åˆ¶é¢‘ç‡ï¼Œå¢å¼ºå¹‚ç­‰æ€§ä¿éšœ
      
  


  å–æ¶ˆ
  #


RedlockåŠ é” (TTL ~ seconds)
æ•°æ®åº“æ‚²è§‚é”ï¼ˆPessimistic Lockï¼‰åŒæ£€
æ ¡éªŒä¿®æ”¹æ—§é¢„çº¦
å‘å¸ƒ AppointmentCanceled åˆ° Kafka
é‡Šæ”¾é”ï¼ˆUnlockï¼‰
å“åº”å®¢æˆ·ç«¯
æ¶ˆè´¹è€…ï¼ˆSearch Serviceï¼‰Cache Invalidation
æ¶ˆè´¹è€…ï¼ˆNotification Serviceï¼‰å‘é€æ¶ˆæ¯


  æƒè¡¡
  #


  3. æœåŠ¡5000ä¸‡ç”¨æˆ·ï¼Œ50ä¸‡åŒ»ç”Ÿï¼Œæ¯ç§’700æ¬¡æœç´¢ï¼Œæ¯ç§’90æ¬¡é¢„çº¦ã€‚
  #


  4. è½»æ¾æ‹“å±•æ–°åœ°åŒºã€‚
  #


é…ç½®å±‚é¢éš”ç¦»ï¼ˆSpring Cloud Configï¼‰
æ•°æ®åº“åˆ†åº“ï¼ˆDate Partitioningï¼‰
é€šç”¨æœåŠ¡ï¼ˆCommon Servicesï¼‰å’Œå·®å¼‚åŒ–å®šåˆ¶ï¼ˆCustom Servicesï¼‰
APIè®¾è®¡ï¼ˆ/fr, /deï¼‰
å¤šç§Ÿæˆ·éƒ¨ç½²ï¼ˆnamespaceï¼‰
æ—¥å¿—æ ‡ç­¾ï¼ˆLabelï¼‰


  5. è¦è€ƒè™‘æœåŠ¡ä¹‹é—´çš„æ‰©å±•æ€§ï¼Œå®¹é”™æ€§ï¼Œæ•°æ®ä¸€è‡´æ€§ã€‚
  #


æ‰©å±•æ€§ï¼šHPAï¼ŒIngress Controllerï¼ŒRedis Cluster Slotï¼ŒKafka Brokers Partition, Database Sharding
å®¹é”™æ€§ï¼šService Meshï¼Œå¤šAZï¼ŒRedis Redlockï¼ŒKafka
æœ€ç»ˆä¸€è‡´æ€§ï¼šæ•°æ®åº“äº‹åŠ¡ï¼ŒRedis Redlockï¼ŒSAGA Patternï¼Œå¼‚æ­¥æ¶ˆæ¯ï¼ˆAsync Messageï¼‰ï¼Œé‡è¯•ï¼ˆRetryï¼‰ï¼Œæ­»ä¿¡é˜Ÿåˆ—ï¼ˆDead Letter Queueï¼‰ï¼Œç¼“å­˜å¤±æ•ˆï¼ˆCache Invalidationï¼‰ï¼Œäº‹ä»¶ç›‘å¬ï¼ˆEvent-driven Monitoringï¼‰


  é—®é¢˜
  #


  1. æœç´¢å‰ï¼ˆSearchï¼‰éœ€è¦ç»è¿‡é‰´æƒï¼ˆAuthorizationï¼‰å—ï¼Ÿ
  #

å¦‚æœä¸éœ€è¦ï¼š">
<meta name="theme-color" media="(prefers-color-scheme: light)" content="#ffffff">
<meta name="theme-color" media="(prefers-color-scheme: dark)" content="#343a40">
<meta name="color-scheme" content="light dark"><meta property="og:url" content="http://localhost:1313/docs/study/system-design/">
  <meta property="og:site_name" content="å›å®çš„ç¬”è®°">
  <meta property="og:title" content="ç³»ç»Ÿè®¾è®¡">
  <meta property="og:description" content="è¦æ±‚#1. åˆ†å¸ƒå¼ã€å¯æ‰©å±•ã€‚#åˆ†å¸ƒå¼ï¼šå¾®æœåŠ¡ã€å¼‚æ­¥é€šä¿¡ã€åˆ†å¸ƒå¼ç¼“å­˜ã€K8s å¯æ‰©å±•ï¼šHPAã€åˆ†åº“åˆ†è¡¨ã€K8s DNS Serviceã€å¤šAZã€å¤šå›½å®¶ 2. ç”¨æˆ·å¯æœç´¢ã€å¯é¢„çº¦ã€å¯é‡æ–°å®‰æ’ã€å¯å–æ¶ˆï¼ŒåŸºäºåŒ»ç”Ÿçš„ä½ç½®ã€ä¸“ç§‘ã€å¯ç”¨æ—¶é—´ã€‚#æœç´¢#Cache Asideï¼ŒInvalidate when Booking and Cancellation (TTL ~ minutes) Caffeine å¼‚æ­¥å»¶è¿ŸåŒåˆ  æƒè¡¡#ä¼˜ç‚¹ è¯´æ˜ âš¡ é«˜åå Redis å‘½ä¸­ç‡é«˜ï¼Œæ”¯æŒ QPS &gt; 1000&#43; â±ï¸ ä½å»¶è¿Ÿ å•åŒ»ç”ŸæŸ¥è¯¢ latency â‰ˆ å‡  ms âœ… å†™åæ— è¯» Slot æ•°æ®é¢„ç”Ÿæˆã€å†™å…¥ååªè¯»ï¼Œé€‚åˆç¼“å­˜ ğŸ” å¼‚æ­¥æ›´æ–° Cache ç”± Kafka é©±åŠ¨å¼‚æ­¥æ›´æ–°ï¼Œæ— éœ€å¼ºä¸€è‡´æ€§ ç¼ºç‚¹ è¯´æ˜ ğŸ•’ æ•°æ®è½»å¾®ä¸ä¸€è‡´ TTL å¤±æ•ˆæœŸé—´å¯èƒ½å±•ç¤ºå·²è¢«é¢„çº¦çš„ slotï¼ˆåœ¨ Booking é˜¶æ®µå…œåº•ï¼‰ ğŸ§  Cache Invalidate å¤æ‚ å¤šæœåŠ¡å†™å…¥ slot çŠ¶æ€éœ€ä¿è¯æ­£ç¡®æ¸…é™¤ Redis ç¼“å­˜ ğŸ“¦ å¤§é‡ slot Redis å†…å­˜å ç”¨éœ€æ§åˆ¶ï¼ˆå¯åšåˆ†ç‰‡ or ä½¿ç”¨ Redis Clusterï¼‰ é¢„çº¦#Redlock åŠ é” (TTL ~ seconds) åŠ å…¥ Request ID ä½œä¸ºå”¯ä¸€æ€§çº¦æŸ æ•°æ®åº“æ‚²è§‚é”ï¼ˆPessimistic Lockï¼‰åŒæ£€ æ’å…¥é¢„çº¦ï¼ˆAppointmentï¼‰ å‘å¸ƒ AppointmentCreated åˆ° Kafka é‡Šæ”¾é”ï¼ˆUnlockï¼‰ å“åº”å®¢æˆ·ç«¯ æ¶ˆè´¹è€…ï¼ˆSearch Serviceï¼‰Cache Invalidation æ¶ˆè´¹è€…ï¼ˆNotification Serviceï¼‰å‘é€æ¶ˆæ¯ æƒè¡¡#ä¼˜ç‚¹ è¯´æ˜ âœ… é«˜ä¸€è‡´æ€§ä¿éšœ é”&#43;äº‹åŠ¡åŒé‡ä¿è¯ âœ… å¹‚ç­‰è®¾è®¡ é˜²æ­¢é‡å¤é¢„çº¦ âœ… å¯è§‚æµ‹æ€§å¼º Kafka æ¨é€äº‹ä»¶ç”¨äºè¿½è¸ªé“¾è·¯ âœ… å¼‚æ­¥è§£è€¦ éæ ¸å¿ƒé€»è¾‘ï¼ˆé€šçŸ¥ã€ç¼“å­˜ï¼‰ä¸å½±å“ä¸»æµç¨‹æ€§èƒ½ ç¼ºç‚¹ è¯´æ˜ â— Redis ä¸å¯ç”¨ Redlock ä¾èµ– Redisï¼Œå¯å¼•å…¥é™çº§æœºåˆ¶ï¼ˆfallback DB lockï¼‰ â— é«˜å¹¶å‘ä¸‹å»¶è¿Ÿ æ‹¥å¡åœ¨çƒ­ç‚¹ slotï¼ˆæ¯”å¦‚çƒ­é—¨åŒ»ç”Ÿï¼‰å¯ç”¨é˜Ÿåˆ—æ’é˜Ÿç¼“è§£ â— äº‹åŠ¡å¤æ‚æ€§ éœ€ç»†è‡´å¤„ç†é”é‡Šæ”¾å’Œå›æ»šï¼Œé¿å…æ­»é” é‡æ–°å®‰æ’#RedlockåŠ é” (TTL ~ seconds) æ•°æ®åº“æ‚²è§‚é”ï¼ˆPessimistic Lockï¼‰åŒæ£€ æ ¡éªŒä¿®æ”¹æ—§é¢„çº¦ï¼Œæ’å…¥æ–°é¢„çº¦ å‘å¸ƒ AppointmentRescheduled åˆ° Kafka é‡Šæ”¾é”ï¼ˆUnlockï¼‰ å“åº”å®¢æˆ·ç«¯ æ¶ˆè´¹è€…ï¼ˆSearch Serviceï¼‰Cache Invalidation æ¶ˆè´¹è€…ï¼ˆNotification Serviceï¼‰å‘é€æ¶ˆæ¯ æƒè¡¡#ä¼˜ç‚¹ è¯´æ˜ âœ… ä¸€è‡´æ€§ä¿éšœ äº‹åŠ¡æ›´æ–° &#43; å¹‚ç­‰æ§åˆ¶ï¼Œé¿å…é”™çº¦/é‡å¤çº¦ âœ… åŒ slot å®‰å…¨ç®¡ç† æ˜¾å¼é‡Šæ”¾æ—§ slotã€é”å®šæ–° slot âœ… è§£è€¦é€»è¾‘ Kafka ç”¨äºé€šçŸ¥ä¸ç¼“å­˜åˆ·æ–°ï¼Œä¸»æµç¨‹ä¸é˜»å¡ ç¼ºç‚¹ è¯´æ˜ â— æ–°æ—§ slot çŠ¶æ€åˆ‡æ¢é€»è¾‘å¤æ‚ éœ€è¦æ˜ç¡®çŠ¶æ€æµè½¬æ¨¡å‹ â— Redis ä¸å¯ç”¨å½±å“é” é™çº§ fallbackï¼šæ•°æ®åº“æ‚²è§‚é” â— ç”¨æˆ·è¯¯æ“ä½œå¯èƒ½å¯¼è‡´é‡å¤ reschedule éœ€é™åˆ¶é¢‘ç‡ï¼Œå¢å¼ºå¹‚ç­‰æ€§ä¿éšœ å–æ¶ˆ#RedlockåŠ é” (TTL ~ seconds) æ•°æ®åº“æ‚²è§‚é”ï¼ˆPessimistic Lockï¼‰åŒæ£€ æ ¡éªŒä¿®æ”¹æ—§é¢„çº¦ å‘å¸ƒ AppointmentCanceled åˆ° Kafka é‡Šæ”¾é”ï¼ˆUnlockï¼‰ å“åº”å®¢æˆ·ç«¯ æ¶ˆè´¹è€…ï¼ˆSearch Serviceï¼‰Cache Invalidation æ¶ˆè´¹è€…ï¼ˆNotification Serviceï¼‰å‘é€æ¶ˆæ¯ æƒè¡¡#3. æœåŠ¡5000ä¸‡ç”¨æˆ·ï¼Œ50ä¸‡åŒ»ç”Ÿï¼Œæ¯ç§’700æ¬¡æœç´¢ï¼Œæ¯ç§’90æ¬¡é¢„çº¦ã€‚#4. è½»æ¾æ‹“å±•æ–°åœ°åŒºã€‚#é…ç½®å±‚é¢éš”ç¦»ï¼ˆSpring Cloud Configï¼‰ æ•°æ®åº“åˆ†åº“ï¼ˆDate Partitioningï¼‰ é€šç”¨æœåŠ¡ï¼ˆCommon Servicesï¼‰å’Œå·®å¼‚åŒ–å®šåˆ¶ï¼ˆCustom Servicesï¼‰ APIè®¾è®¡ï¼ˆ/fr, /deï¼‰ å¤šç§Ÿæˆ·éƒ¨ç½²ï¼ˆnamespaceï¼‰ æ—¥å¿—æ ‡ç­¾ï¼ˆLabelï¼‰ 5. è¦è€ƒè™‘æœåŠ¡ä¹‹é—´çš„æ‰©å±•æ€§ï¼Œå®¹é”™æ€§ï¼Œæ•°æ®ä¸€è‡´æ€§ã€‚#æ‰©å±•æ€§ï¼šHPAï¼ŒIngress Controllerï¼ŒRedis Cluster Slotï¼ŒKafka Brokers Partition, Database Sharding å®¹é”™æ€§ï¼šService Meshï¼Œå¤šAZï¼ŒRedis Redlockï¼ŒKafka æœ€ç»ˆä¸€è‡´æ€§ï¼šæ•°æ®åº“äº‹åŠ¡ï¼ŒRedis Redlockï¼ŒSAGA Patternï¼Œå¼‚æ­¥æ¶ˆæ¯ï¼ˆAsync Messageï¼‰ï¼Œé‡è¯•ï¼ˆRetryï¼‰ï¼Œæ­»ä¿¡é˜Ÿåˆ—ï¼ˆDead Letter Queueï¼‰ï¼Œç¼“å­˜å¤±æ•ˆï¼ˆCache Invalidationï¼‰ï¼Œäº‹ä»¶ç›‘å¬ï¼ˆEvent-driven Monitoringï¼‰ é—®é¢˜#1. æœç´¢å‰ï¼ˆSearchï¼‰éœ€è¦ç»è¿‡é‰´æƒï¼ˆAuthorizationï¼‰å—ï¼Ÿ#å¦‚æœä¸éœ€è¦ï¼š">
  <meta property="og:locale" content="zh">
  <meta property="og:type" content="article">
    <meta property="article:section" content="docs">
<title>ç³»ç»Ÿè®¾è®¡ | å›å®çš„ç¬”è®°</title>
<link rel="icon" href="/favicon.png" >
<link rel="manifest" href="/manifest.json">
<link rel="canonical" href="http://localhost:1313/docs/study/system-design/">
<link rel="stylesheet" href="/book.min.e9f68c3fff3d8236a489d16a9caf6de5e4d1a29c20eb4b5524e42cd30be4d319.css" integrity="sha256-6faMP/89gjakidFqnK9t5eTRopwg60tVJOQs0wvk0xk=" crossorigin="anonymous">
  <script defer src="/fuse.min.js"></script>
  <script defer src="/zh.search.min.54acca42ccebf7612571a42c86f62737ef30a2f271b02b44d8edbde23f78ae80.js" integrity="sha256-VKzKQszr92ElcaQshvYnN&#43;8wovJxsCtE2O294j94roA=" crossorigin="anonymous"></script>

  <script defer src="/sw.min.6f6f90fcb8eb1c49ec389838e6b801d0de19430b8e516902f8d75c3c8bd98739.js" integrity="sha256-b2&#43;Q/LjrHEnsOJg45rgB0N4ZQwuOUWkC&#43;NdcPIvZhzk=" crossorigin="anonymous"></script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  
</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="/"><span>å›å®çš„ç¬”è®°</span>
  </a>
</h2>


<div class="book-search hidden">
  <input type="text" id="book-search-input" placeholder="æœç´¢" aria-label="æœç´¢" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>
<script>document.querySelector(".book-search").classList.remove("hidden")</script>



  



  
    
  



<ul class="book-languages">
  <li>
    <input type="checkbox" id="languages" class="toggle" />
    <label for="languages" class="flex justify-between">
      <a role="button" class="flex align-center">
        <img src="/svg/translate.svg" class="book-icon" alt="Languages" />
        ç®€ä½“ä¸­æ–‡
      </a>
    </label>

    <ul>
      
      <li>
        <a href="/en/">
          English
        </a>
      </li>
      
    </ul>
  </li>
</ul>














  
  <ul>
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>å­¦ä¹ èµ„æ–™</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/study/system-design/" class="active">ç³»ç»Ÿè®¾è®¡</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/study/tips/" class="">è¡¥å……</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/study/cache-consistency/" class="">ç¼“å­˜ä¸€è‡´æ€§</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/study/license-comparison/" class="">ä¸»æµè®¸å¯è¯å¯¹æ¯”</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <input type="checkbox" id="section-06148cf0da5a87ffda4f34920eae5a83" class="toggle"  />
    <label for="section-06148cf0da5a87ffda4f34920eae5a83" class="flex justify-between">
      <a href="/docs/example/" class="">Example Site</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/example/table-of-contents/" class="">Table of Contents</a>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/example/table-of-contents/with-toc/" class="">With ToC</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/example/table-of-contents/without-toc/" class="">Without ToC</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-dcab297e11de79eb42396c59d3314623" class="toggle"  />
    <label for="section-dcab297e11de79eb42396c59d3314623" class="flex justify-between">
      <a role="button" class="">Collapsed</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/example/collapsed/3rd-level/" class="">3rd Level</a>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/example/collapsed/3rd-level/4th-level/" class="">4th Level</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/example/introduction/" class="">ä»‹ç»</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <input type="checkbox" id="section-25b4439e87cf8c09de5a8727ce755d08" class="toggle"  />
    <label for="section-25b4439e87cf8c09de5a8727ce755d08" class="flex justify-between">
      <a role="button" class="">Shortcodes</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/shortcodes/buttons/" class="">Buttons</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/shortcodes/columns/" class="">Columns</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/shortcodes/details/" class="">Details</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/shortcodes/hints/" class="">Hints</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/shortcodes/mermaid/" class="">Mermaid</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/shortcodes/tabs/" class="">Tabs</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/shortcodes/katex/" class="">KaTeX</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>










  
<ul>
  
  <li>
    <a href="https://github.com/jduan1993"  target="_blank" rel="noopener">
        Github
      </a>
  </li>
  
</ul>






</nav>




  <script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <h3>ç³»ç»Ÿè®¾è®¡</h3>

  <label for="toc-control">
    
    <img src="/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>

<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
  <meta name="referrer" content="no-referrer-when-downgrade">

  
  <aside class="hidden clearfix">
    
  
<nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li>
          <ul>
            <li><a href="#è¦æ±‚">è¦æ±‚</a></li>
            <li><a href="#é—®é¢˜">é—®é¢˜</a></li>
            <li><a href="#ä¼˜åŒ–">ä¼˜åŒ–</a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav>



  </aside>
  
 
      </header>

      
      
<article class="markdown book-post">
  <h1>
    ç³»ç»Ÿè®¾è®¡
  </h1>
  
  


  

  


  <div class="book-post-content"><h3 id="è¦æ±‚">
  è¦æ±‚
  <a class="anchor" href="#%e8%a6%81%e6%b1%82">#</a>
</h3>
<h4 id="1-åˆ†å¸ƒå¼å¯æ‰©å±•">
  1. åˆ†å¸ƒå¼ã€å¯æ‰©å±•ã€‚
  <a class="anchor" href="#1-%e5%88%86%e5%b8%83%e5%bc%8f%e5%8f%af%e6%89%a9%e5%b1%95">#</a>
</h4>
<ul>
<li>åˆ†å¸ƒå¼ï¼šå¾®æœåŠ¡ã€å¼‚æ­¥é€šä¿¡ã€åˆ†å¸ƒå¼ç¼“å­˜ã€K8s</li>
<li>å¯æ‰©å±•ï¼šHPAã€åˆ†åº“åˆ†è¡¨ã€K8s DNS Serviceã€å¤šAZã€å¤šå›½å®¶</li>
</ul>
<h4 id="2-ç”¨æˆ·å¯æœç´¢å¯é¢„çº¦å¯é‡æ–°å®‰æ’å¯å–æ¶ˆåŸºäºåŒ»ç”Ÿçš„ä½ç½®ä¸“ç§‘å¯ç”¨æ—¶é—´">
  2. ç”¨æˆ·å¯æœç´¢ã€å¯é¢„çº¦ã€å¯é‡æ–°å®‰æ’ã€å¯å–æ¶ˆï¼ŒåŸºäºåŒ»ç”Ÿçš„ä½ç½®ã€ä¸“ç§‘ã€å¯ç”¨æ—¶é—´ã€‚
  <a class="anchor" href="#2-%e7%94%a8%e6%88%b7%e5%8f%af%e6%90%9c%e7%b4%a2%e5%8f%af%e9%a2%84%e7%ba%a6%e5%8f%af%e9%87%8d%e6%96%b0%e5%ae%89%e6%8e%92%e5%8f%af%e5%8f%96%e6%b6%88%e5%9f%ba%e4%ba%8e%e5%8c%bb%e7%94%9f%e7%9a%84%e4%bd%8d%e7%bd%ae%e4%b8%93%e7%a7%91%e5%8f%af%e7%94%a8%e6%97%b6%e9%97%b4">#</a>
</h4>
<h5 id="æœç´¢">
  æœç´¢
  <a class="anchor" href="#%e6%90%9c%e7%b4%a2">#</a>
</h5>
<ul>
<li>Cache Asideï¼ŒInvalidate when Booking and Cancellation (TTL ~ minutes)</li>
<li>Caffeine å¼‚æ­¥å»¶è¿ŸåŒåˆ </li>
</ul>
<h6 id="æƒè¡¡">
  æƒè¡¡
  <a class="anchor" href="#%e6%9d%83%e8%a1%a1">#</a>
</h6>
<table>
  <thead>
      <tr>
          <th>ä¼˜ç‚¹</th>
          <th>è¯´æ˜</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>âš¡ é«˜åå</td>
          <td>Redis å‘½ä¸­ç‡é«˜ï¼Œæ”¯æŒ QPS &gt; 1000+</td>
      </tr>
      <tr>
          <td>â±ï¸ ä½å»¶è¿Ÿ</td>
          <td>å•åŒ»ç”ŸæŸ¥è¯¢ latency â‰ˆ å‡  ms</td>
      </tr>
      <tr>
          <td>âœ… å†™åæ— è¯»</td>
          <td>Slot æ•°æ®é¢„ç”Ÿæˆã€å†™å…¥ååªè¯»ï¼Œé€‚åˆç¼“å­˜</td>
      </tr>
      <tr>
          <td>ğŸ” å¼‚æ­¥æ›´æ–°</td>
          <td>Cache ç”± Kafka é©±åŠ¨å¼‚æ­¥æ›´æ–°ï¼Œæ— éœ€å¼ºä¸€è‡´æ€§</td>
      </tr>
  </tbody>
</table>
<table>
  <thead>
      <tr>
          <th>ç¼ºç‚¹</th>
          <th>è¯´æ˜</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>ğŸ•’ æ•°æ®è½»å¾®ä¸ä¸€è‡´</td>
          <td>TTL å¤±æ•ˆæœŸé—´å¯èƒ½å±•ç¤ºå·²è¢«é¢„çº¦çš„ slotï¼ˆåœ¨ Booking é˜¶æ®µå…œåº•ï¼‰</td>
      </tr>
      <tr>
          <td>ğŸ§  Cache Invalidate å¤æ‚</td>
          <td>å¤šæœåŠ¡å†™å…¥ slot çŠ¶æ€éœ€ä¿è¯æ­£ç¡®æ¸…é™¤ Redis ç¼“å­˜</td>
      </tr>
      <tr>
          <td>ğŸ“¦ å¤§é‡ slot</td>
          <td>Redis å†…å­˜å ç”¨éœ€æ§åˆ¶ï¼ˆå¯åšåˆ†ç‰‡ or ä½¿ç”¨ Redis Clusterï¼‰</td>
      </tr>
  </tbody>
</table>
<h5 id="é¢„çº¦">
  é¢„çº¦
  <a class="anchor" href="#%e9%a2%84%e7%ba%a6">#</a>
</h5>
<ul>
<li>Redlock åŠ é” (TTL ~ seconds)</li>
<li>åŠ å…¥ Request ID ä½œä¸ºå”¯ä¸€æ€§çº¦æŸ</li>
<li>æ•°æ®åº“æ‚²è§‚é”ï¼ˆPessimistic Lockï¼‰åŒæ£€</li>
<li>æ’å…¥é¢„çº¦ï¼ˆAppointmentï¼‰</li>
<li>å‘å¸ƒ AppointmentCreated åˆ° Kafka</li>
<li>é‡Šæ”¾é”ï¼ˆUnlockï¼‰</li>
<li>å“åº”å®¢æˆ·ç«¯</li>
<li>æ¶ˆè´¹è€…ï¼ˆSearch Serviceï¼‰Cache Invalidation</li>
<li>æ¶ˆè´¹è€…ï¼ˆNotification Serviceï¼‰å‘é€æ¶ˆæ¯</li>
</ul>
<h6 id="æƒè¡¡-1">
  æƒè¡¡
  <a class="anchor" href="#%e6%9d%83%e8%a1%a1-1">#</a>
</h6>
<table>
  <thead>
      <tr>
          <th>ä¼˜ç‚¹</th>
          <th>è¯´æ˜</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>âœ… é«˜ä¸€è‡´æ€§ä¿éšœ</td>
          <td>é”+äº‹åŠ¡åŒé‡ä¿è¯</td>
      </tr>
      <tr>
          <td>âœ… å¹‚ç­‰è®¾è®¡</td>
          <td>é˜²æ­¢é‡å¤é¢„çº¦</td>
      </tr>
      <tr>
          <td>âœ… å¯è§‚æµ‹æ€§å¼º</td>
          <td>Kafka æ¨é€äº‹ä»¶ç”¨äºè¿½è¸ªé“¾è·¯</td>
      </tr>
      <tr>
          <td>âœ… å¼‚æ­¥è§£è€¦</td>
          <td>éæ ¸å¿ƒé€»è¾‘ï¼ˆé€šçŸ¥ã€ç¼“å­˜ï¼‰ä¸å½±å“ä¸»æµç¨‹æ€§èƒ½</td>
      </tr>
  </tbody>
</table>
<table>
  <thead>
      <tr>
          <th>ç¼ºç‚¹</th>
          <th>è¯´æ˜</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>â— Redis ä¸å¯ç”¨</td>
          <td>Redlock ä¾èµ– Redisï¼Œå¯å¼•å…¥é™çº§æœºåˆ¶ï¼ˆfallback DB lockï¼‰</td>
      </tr>
      <tr>
          <td>â— é«˜å¹¶å‘ä¸‹å»¶è¿Ÿ</td>
          <td>æ‹¥å¡åœ¨çƒ­ç‚¹ slotï¼ˆæ¯”å¦‚çƒ­é—¨åŒ»ç”Ÿï¼‰å¯ç”¨é˜Ÿåˆ—æ’é˜Ÿç¼“è§£</td>
      </tr>
      <tr>
          <td>â— äº‹åŠ¡å¤æ‚æ€§</td>
          <td>éœ€ç»†è‡´å¤„ç†é”é‡Šæ”¾å’Œå›æ»šï¼Œé¿å…æ­»é”</td>
      </tr>
  </tbody>
</table>
<h5 id="é‡æ–°å®‰æ’">
  é‡æ–°å®‰æ’
  <a class="anchor" href="#%e9%87%8d%e6%96%b0%e5%ae%89%e6%8e%92">#</a>
</h5>
<ul>
<li>RedlockåŠ é” (TTL ~ seconds)</li>
<li>æ•°æ®åº“æ‚²è§‚é”ï¼ˆPessimistic Lockï¼‰åŒæ£€</li>
<li>æ ¡éªŒä¿®æ”¹æ—§é¢„çº¦ï¼Œæ’å…¥æ–°é¢„çº¦</li>
<li>å‘å¸ƒ AppointmentRescheduled åˆ° Kafka</li>
<li>é‡Šæ”¾é”ï¼ˆUnlockï¼‰</li>
<li>å“åº”å®¢æˆ·ç«¯</li>
<li>æ¶ˆè´¹è€…ï¼ˆSearch Serviceï¼‰Cache Invalidation</li>
<li>æ¶ˆè´¹è€…ï¼ˆNotification Serviceï¼‰å‘é€æ¶ˆæ¯</li>
</ul>
<h6 id="æƒè¡¡-2">
  æƒè¡¡
  <a class="anchor" href="#%e6%9d%83%e8%a1%a1-2">#</a>
</h6>
<table>
  <thead>
      <tr>
          <th>ä¼˜ç‚¹</th>
          <th>è¯´æ˜</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>âœ… ä¸€è‡´æ€§ä¿éšœ</td>
          <td>äº‹åŠ¡æ›´æ–° + å¹‚ç­‰æ§åˆ¶ï¼Œé¿å…é”™çº¦/é‡å¤çº¦</td>
      </tr>
      <tr>
          <td>âœ… åŒ slot å®‰å…¨ç®¡ç†</td>
          <td>æ˜¾å¼é‡Šæ”¾æ—§ slotã€é”å®šæ–° slot</td>
      </tr>
      <tr>
          <td>âœ… è§£è€¦é€»è¾‘</td>
          <td>Kafka ç”¨äºé€šçŸ¥ä¸ç¼“å­˜åˆ·æ–°ï¼Œä¸»æµç¨‹ä¸é˜»å¡</td>
      </tr>
  </tbody>
</table>
<table>
  <thead>
      <tr>
          <th>ç¼ºç‚¹</th>
          <th>è¯´æ˜</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>â— æ–°æ—§ slot çŠ¶æ€åˆ‡æ¢é€»è¾‘å¤æ‚</td>
          <td>éœ€è¦æ˜ç¡®çŠ¶æ€æµè½¬æ¨¡å‹</td>
      </tr>
      <tr>
          <td>â— Redis ä¸å¯ç”¨å½±å“é”</td>
          <td>é™çº§ fallbackï¼šæ•°æ®åº“æ‚²è§‚é”</td>
      </tr>
      <tr>
          <td>â— ç”¨æˆ·è¯¯æ“ä½œå¯èƒ½å¯¼è‡´é‡å¤ reschedule</td>
          <td>éœ€é™åˆ¶é¢‘ç‡ï¼Œå¢å¼ºå¹‚ç­‰æ€§ä¿éšœ</td>
      </tr>
  </tbody>
</table>
<h5 id="å–æ¶ˆ">
  å–æ¶ˆ
  <a class="anchor" href="#%e5%8f%96%e6%b6%88">#</a>
</h5>
<ul>
<li>RedlockåŠ é” (TTL ~ seconds)</li>
<li>æ•°æ®åº“æ‚²è§‚é”ï¼ˆPessimistic Lockï¼‰åŒæ£€</li>
<li>æ ¡éªŒä¿®æ”¹æ—§é¢„çº¦</li>
<li>å‘å¸ƒ AppointmentCanceled åˆ° Kafka</li>
<li>é‡Šæ”¾é”ï¼ˆUnlockï¼‰</li>
<li>å“åº”å®¢æˆ·ç«¯</li>
<li>æ¶ˆè´¹è€…ï¼ˆSearch Serviceï¼‰Cache Invalidation</li>
<li>æ¶ˆè´¹è€…ï¼ˆNotification Serviceï¼‰å‘é€æ¶ˆæ¯</li>
</ul>
<h6 id="æƒè¡¡-3">
  æƒè¡¡
  <a class="anchor" href="#%e6%9d%83%e8%a1%a1-3">#</a>
</h6>
<h4 id="3-æœåŠ¡5000ä¸‡ç”¨æˆ·50ä¸‡åŒ»ç”Ÿæ¯ç§’700æ¬¡æœç´¢æ¯ç§’90æ¬¡é¢„çº¦">
  3. æœåŠ¡5000ä¸‡ç”¨æˆ·ï¼Œ50ä¸‡åŒ»ç”Ÿï¼Œæ¯ç§’700æ¬¡æœç´¢ï¼Œæ¯ç§’90æ¬¡é¢„çº¦ã€‚
  <a class="anchor" href="#3-%e6%9c%8d%e5%8a%a15000%e4%b8%87%e7%94%a8%e6%88%b750%e4%b8%87%e5%8c%bb%e7%94%9f%e6%af%8f%e7%a7%92700%e6%ac%a1%e6%90%9c%e7%b4%a2%e6%af%8f%e7%a7%9290%e6%ac%a1%e9%a2%84%e7%ba%a6">#</a>
</h4>
<h4 id="4-è½»æ¾æ‹“å±•æ–°åœ°åŒº">
  4. è½»æ¾æ‹“å±•æ–°åœ°åŒºã€‚
  <a class="anchor" href="#4-%e8%bd%bb%e6%9d%be%e6%8b%93%e5%b1%95%e6%96%b0%e5%9c%b0%e5%8c%ba">#</a>
</h4>
<ul>
<li>é…ç½®å±‚é¢éš”ç¦»ï¼ˆSpring Cloud Configï¼‰</li>
<li>æ•°æ®åº“åˆ†åº“ï¼ˆDate Partitioningï¼‰</li>
<li>é€šç”¨æœåŠ¡ï¼ˆCommon Servicesï¼‰å’Œå·®å¼‚åŒ–å®šåˆ¶ï¼ˆCustom Servicesï¼‰</li>
<li>APIè®¾è®¡ï¼ˆ/fr, /deï¼‰</li>
<li>å¤šç§Ÿæˆ·éƒ¨ç½²ï¼ˆnamespaceï¼‰</li>
<li>æ—¥å¿—æ ‡ç­¾ï¼ˆLabelï¼‰</li>
</ul>
<h4 id="5-è¦è€ƒè™‘æœåŠ¡ä¹‹é—´çš„æ‰©å±•æ€§å®¹é”™æ€§æ•°æ®ä¸€è‡´æ€§">
  5. è¦è€ƒè™‘æœåŠ¡ä¹‹é—´çš„æ‰©å±•æ€§ï¼Œå®¹é”™æ€§ï¼Œæ•°æ®ä¸€è‡´æ€§ã€‚
  <a class="anchor" href="#5-%e8%a6%81%e8%80%83%e8%99%91%e6%9c%8d%e5%8a%a1%e4%b9%8b%e9%97%b4%e7%9a%84%e6%89%a9%e5%b1%95%e6%80%a7%e5%ae%b9%e9%94%99%e6%80%a7%e6%95%b0%e6%8d%ae%e4%b8%80%e8%87%b4%e6%80%a7">#</a>
</h4>
<ul>
<li>æ‰©å±•æ€§ï¼šHPAï¼ŒIngress Controllerï¼ŒRedis Cluster Slotï¼ŒKafka Brokers Partition, Database Sharding</li>
<li>å®¹é”™æ€§ï¼šService Meshï¼Œå¤šAZï¼ŒRedis Redlockï¼ŒKafka</li>
<li>æœ€ç»ˆä¸€è‡´æ€§ï¼šæ•°æ®åº“äº‹åŠ¡ï¼ŒRedis Redlockï¼ŒSAGA Patternï¼Œå¼‚æ­¥æ¶ˆæ¯ï¼ˆAsync Messageï¼‰ï¼Œé‡è¯•ï¼ˆRetryï¼‰ï¼Œæ­»ä¿¡é˜Ÿåˆ—ï¼ˆDead Letter Queueï¼‰ï¼Œç¼“å­˜å¤±æ•ˆï¼ˆCache Invalidationï¼‰ï¼Œäº‹ä»¶ç›‘å¬ï¼ˆEvent-driven Monitoringï¼‰</li>
</ul>
<h3 id="é—®é¢˜">
  é—®é¢˜
  <a class="anchor" href="#%e9%97%ae%e9%a2%98">#</a>
</h3>
<h4 id="1-æœç´¢å‰searchéœ€è¦ç»è¿‡é‰´æƒauthorizationå—">
  1. æœç´¢å‰ï¼ˆSearchï¼‰éœ€è¦ç»è¿‡é‰´æƒï¼ˆAuthorizationï¼‰å—ï¼Ÿ
  <a class="anchor" href="#1-%e6%90%9c%e7%b4%a2%e5%89%8dsearch%e9%9c%80%e8%a6%81%e7%bb%8f%e8%bf%87%e9%89%b4%e6%9d%83authorization%e5%90%97">#</a>
</h4>
<p>å¦‚æœä¸éœ€è¦ï¼š</p>
<ul>
<li>æŠŠSearch Serviceç½®å‰</li>
<li>è¿™æ ·å¯èƒ½æ›´å¸å¼•ç”¨æˆ·</li>
<li>ä½†æ˜¯ä¼šå¢åŠ è®¿é—®é‡</li>
</ul>
<h4 id="2-æœç´¢æ—¶éƒ½æœ‰ä»€ä¹ˆç­›é€‰æ¡ä»¶filter-condition">
  2. æœç´¢æ—¶éƒ½æœ‰ä»€ä¹ˆç­›é€‰æ¡ä»¶ï¼ˆFilter Conditionï¼‰ï¼Ÿ
  <a class="anchor" href="#2-%e6%90%9c%e7%b4%a2%e6%97%b6%e9%83%bd%e6%9c%89%e4%bb%80%e4%b9%88%e7%ad%9b%e9%80%89%e6%9d%a1%e4%bb%b6filter-condition">#</a>
</h4>
<p>å¦‚æœæ¶‰åŠåˆ°è·ç¦»ï¼Œäº¤é€šå·¥å…·ï¼Œè·¯ç¨‹ç”¨æ—¶ç­‰æ¡ä»¶ï¼š</p>
<ul>
<li>å¯ä»¥è®¾è®¡ç¬¬ä¸‰æ–¹ä¾›åº”å•†ï¼ˆ3rd-Party Vendorsï¼‰æä¾›åœ°å›¾ï¼ˆMap APIï¼‰ç­‰æ¥å£
å¦‚æœæ¶‰åŠåˆ°åŒ»ç”Ÿç®€ä»‹ï¼ˆSummaryï¼‰ï¼Œå…¨æ–‡æœç´¢ï¼ˆFull-Text Searchï¼‰:</li>
<li>å¯ä»¥å¼•å…¥ElasticSearch</li>
</ul>
<h4 id="3-æˆ‘ä»¬ä¸åŒå›½å®¶çš„å¸‚åœºä½¿ç”¨åŒä¸€ä¸ªåº”ç”¨the-only-one-appå—">
  3. æˆ‘ä»¬ä¸åŒå›½å®¶çš„å¸‚åœºä½¿ç”¨åŒä¸€ä¸ªåº”ç”¨ï¼ˆThe only one appï¼‰å—ï¼Ÿ
  <a class="anchor" href="#3-%e6%88%91%e4%bb%ac%e4%b8%8d%e5%90%8c%e5%9b%bd%e5%ae%b6%e7%9a%84%e5%b8%82%e5%9c%ba%e4%bd%bf%e7%94%a8%e5%90%8c%e4%b8%80%e4%b8%aa%e5%ba%94%e7%94%a8the-only-one-app%e5%90%97">#</a>
</h4>
<p>å¦‚æœæ˜¯ï¼š</p>
<ul>
<li>å›½é™…åŒ–ï¼ˆInternationalizationï¼‰ï¼Œæ—¶é—´ã€è¯­è¨€ã€è´§å¸ã€æ—¥æœŸæ ¼å¼</li>
<li>é…ç½®å¼€å…³ï¼ˆFeature Flagï¼‰</li>
<li>æ ¹æ®è®¾å¤‡æœ¬åœ°æ—¶é—´ï¼ˆDevice Timeï¼‰æˆ–è€…å®šä½ï¼ˆLocalizationï¼‰
å¦‚æœä¸æ˜¯ï¼š</li>
<li>éƒ¨ç½²è¿‡ç¨‹è¦è€ƒè™‘æ›´å¤šæ¨¡å—</li>
</ul>
<h4 id="4-é¢„çº¦ä¼šè·¨å¤©span-2-dayså—">
  4. é¢„çº¦ä¼šè·¨å¤©ï¼ˆSpan 2 daysï¼‰å—ï¼Ÿ
  <a class="anchor" href="#4-%e9%a2%84%e7%ba%a6%e4%bc%9a%e8%b7%a8%e5%a4%a9span-2-days%e5%90%97">#</a>
</h4>
<ul>
<li>è¦è€ƒè™‘æ•°æ®åº“è¡¨ç»“æ„ï¼ˆDatabase table structure)</li>
<li>ä»£ç é€»è¾‘ä¸­è¦è€ƒè™‘</li>
</ul>
<h4 id="5-æ¯ç§’700æ¬¡æœç´¢å’Œ90æ¬¡é¢„çº¦æ˜¯æœ€é«˜å³°å€¼maximum-peak-valueå—">
  5. æ¯ç§’700æ¬¡æœç´¢å’Œ90æ¬¡é¢„çº¦æ˜¯æœ€é«˜å³°å€¼ï¼ˆMaximum Peak Valueï¼‰å—ï¼Ÿ
  <a class="anchor" href="#5-%e6%af%8f%e7%a7%92700%e6%ac%a1%e6%90%9c%e7%b4%a2%e5%92%8c90%e6%ac%a1%e9%a2%84%e7%ba%a6%e6%98%af%e6%9c%80%e9%ab%98%e5%b3%b0%e5%80%bcmaximum-peak-value%e5%90%97">#</a>
</h4>
<ul>
<li>å½±å“è§„æ¨¡ï¼ˆScaleï¼‰</li>
</ul>
<h3 id="ä¼˜åŒ–">
  ä¼˜åŒ–
  <a class="anchor" href="#%e4%bc%98%e5%8c%96">#</a>
</h3>
<ul>
<li>æœåŠ¡é—´é€šä¿¡åŒå‘TLSï¼ˆMutual TLS between servicesï¼‰</li>
<li>ç”¨Service Meshç»Ÿä¸€åšç†”æ–­ã€é™æµã€é‡è¯•ï¼ˆCentralized resiliency by service meshï¼‰</li>
<li>å¤šAZéƒ¨ç½²ï¼ŒåŒ…æ‹¬Servicesï¼ŒRedis Clusterç­‰ï¼ˆMulti-AZï¼‰</li>
<li>äºŒçº§ç¼“å­˜ï¼Œä¸€çº§Caffeineï¼ˆLocalï¼‰ï¼ŒäºŒçº§Redisï¼ˆDistributedï¼‰</li>
<li>æ•°æ®åº“è¯»å†™åˆ†ç¦»ï¼ˆRead-Write Separationï¼‰ï¼Œåˆ†åº“åˆ†è¡¨ï¼ˆShardingï¼‰</li>
<li>å…¨é“¾è·¯Traceï¼ˆTelemetryï¼Œend-to-end tracingï¼‰</li>
</ul>
</div>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">



</div>



  <script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script>



<div class="busuanzi-footer">
  <p>Â© 2025 Powered By <a href="https://themes.gohugo.io/">Hugo</a> & 
    <a href="https://github.com/alex-shpak/hugo-book">Hugo-book</a> Contact: <a href="mailto:j.duan@foxmail.com">j.duan@foxmail.com</a></p> 
  <span id="busuanzi_container_site_pv">
    æœ¬ç«™æ€»è®¿é—®é‡<span id="busuanzi_value_site_pv"></span>æ¬¡
  </span>
  <span id="busuanzi_container_site_uv">
    æœ¬ç«™è®¿å®¢æ•°<span id="busuanzi_value_site_uv"></span>äººæ¬¡
  </span>
</div>
 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  
<nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li>
          <ul>
            <li><a href="#è¦æ±‚">è¦æ±‚</a></li>
            <li><a href="#é—®é¢˜">é—®é¢˜</a></li>
            <li><a href="#ä¼˜åŒ–">ä¼˜åŒ–</a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav>


 
      </div>
    </aside>
    
  </main>

  
</body>
</html>












